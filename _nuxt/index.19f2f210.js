import{_ as f}from"./_plugin-vue_export-helper.c27b6911.js";import{r as s,f as v,l as B,o as c,c as d,a as x,F as k,h as b,n as m,t as w,s as T,v as C,g as h,k as S,q as H}from"./entry.ec5083c8.js";import{i as N}from"./item.dde881e7.js";const j={class:"inner_box nav nav-tabs"},E=["data-id","onClick"],F={__name:"index",props:{isScrollGreaterThanBannerHeight:{type:Boolean,default:!1}},emits:["category","categoryTabHeight"],setup(p,{emit:a}){const i=s([]),l=s("categoryAll"),_=s();s(!1);const g=a,u=()=>{const e=_.value.clientHeight;g("categoryTabHeight",e)},r=e=>{l.value=e,g("category",e),console.log(e)},o=async()=>{try{const e=await fetch("https://janyu427.github.io/test/vueJson/product.json");if(!e.ok)throw new Error("Network response was not ok");const t=(await e.json()).product;i.value=[...t,{key:"categoryAll",title:"所有"}]}catch(e){console.error("Error fetching or parsing data:",e)}};return v(()=>{o()}),B(()=>{u()}),(e,n)=>(c(),d("div",{class:m(["product_category_box",{fixed:p.isScrollGreaterThanBannerHeight}]),ref_key:"productCategoryBox",ref:_},[x("ul",j,[(c(!0),d(k,null,b(i.value,t=>(c(),d("li",{class:m(["list",{active:t.key===l.value}]),"data-id":t.key,onClick:y=>r(t.key),key:t.key},w(t.title),11,E))),128))])],2))}},z=f(F,[["__scopeId","data-v-6c880c9e"]]);const A={class:"product_list_box tab-pane"},I={__name:"index",props:{computedFixedMarginTop:{type:Function,default:()=>{}},isScrollGreaterThanBannerHeight:{type:Boolean,default:!1},productCategory:{type:String,default:""}},setup(p){let a=s([]),i=s(!1);const l=p,_=async u=>{try{const r=await fetch("https://janyu427.github.io/test/vueJson/product.json");if(!r.ok)throw new Error("Network response was not ok");const e=(await r.json()).product;a.value=[];for(let n=0;n<e.length;n++)u==="categoryAll"?(a.value=a.value.concat(e[n].items),a.value.sort((t,y)=>t.itemNumber-y.itemNumber),i.value=!0):u===e[n].key&&(a.value=e[n].items,i.value=!0)}catch(r){console.error("Error fetching or parsing data:",r)}},g=T(()=>`${l.computedFixedMarginTop}px`);return v(()=>{C(()=>{_(l.productCategory)})}),(u,r)=>(c(),d("div",{class:"product_category_content tab-content",style:S({"margin-top":p.isScrollGreaterThanBannerHeight?h(g):0})},[x("div",A,[(c(!0),d(k,null,b(h(a),o=>(c(),H(N,{itemBgSrc:o.bgSrc,itemName:o.name,productId:o.itemNumber,title:o.titleTag,key:o.name},null,8,["itemBgSrc","itemName","productId","title"]))),128))])],4))}},J=f(I,[["__scopeId","data-v-eee9b407"]]);export{z as _,J as a};
